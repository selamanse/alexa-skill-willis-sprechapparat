language: node_js
node_js:
  - '4.3'
script:
  - npm test
before_deploy:
  - npm run package
deploy:
  - provider: releases
    api_key:
      secure: wIbM5CVwS6velO2shT5Nnw8ShnMHEfKSsbWdVkz9uEU2+UmqdNd9xn2ebfVf4cSd6J4vGMMDHgjcseLGsL1w4z/eJ+zw+ZjbB+6qe7JEDInGc2VU/m3ez1rbr00Cr2SiJoGXGfAJd1Ip+S41Lu9RWZY/ORUFC85900DdZCawQyjPIoDfmlsy0ZBCucJi5D/+/Krg3RPdpwfZD1h+kxZut3U0t2Ddt6mLoPzZpC78ItNWnUUXaH/G28e67BgNQmEh6+xa1TkIP5xgerQRHMNElqdatP3pO2T/qJG6HulvyLJm6K5ObPlSaJWgPDMU9UVaBxRCUGuAUPUsFixRM3oJBVBcBOb1+LOu128k8Q1POIAVOvuJ2vUFBGwxzuqj+hM4dFEj2Qk/U8zD/vhG1BubulPY9TvMwuVWlZMCGREFpjuXgQmjJ/niJb7dlJfgX2yteItcNlS4BEk9+0HFkjyBj/aqYueTAhgYCXs3gA2maU0PXtSBpH5Wy/K8nIV/xPpt4LJBlzGT2OcVj+RhfH5rI6RzyCDzCc2tNsGZ6obXuh3wwWN2ShN9NFGAY8MwzW66A17IKz+5Hdf0K3sN/HbZTywS0xWe4U4zWpe8O1DqDlfB9W8Y1cp5seD7WJGkKITe5lPbCW4x63LJhipItboZ96seoxPViHw6Geum87+UYY8=
    file_glob: true
    file: dist/*
    skip_cleanup: true
    on:
      repo: selamanse/alexa-skill-willis-sprechapparat
      tags: true
  - provider: lambda
    function_name: "Turner"
    region: "eu-west-1"
    role: "arn:aws:iam::134174638311:role/service-role/default123"
    runtime: "nodejs4.3"
    handler_name: "handler"
    access_key_id: "AKIAIFISK53W4EIWYDQQ"
    publish: true
    secret_access_key: "hQuADNTJmR3Z2En+S2c648xN880MC6Qq9Ugd/k6aXKsA1wwGaoEEOniyPi7xSJx43/W28N5+olSKx73mKUhfeNGuQ4L9ztZ+ePTpP86UaoMvLMQ+8Y7u87d3JtJUDJx0T5O6eZz7SbZ3OYRmn6hH3obNAjFi7QwaaRuTCcYT7f+UIls/zvyvfE0wdZOj5LSk5A4eUgp2l4eVXTyz+4yj82GNdsP91g72IJe8jV/89p7igZDsf8TK2vY67wXLPK9fJmZTglXp4poxTYfFX7kkmlGWHzM+pz4nTUiWc0+vCWqEn79mKvoTikDyx24g4BsDDpRti0cZF8V/dr+GjNMF1KcQe8CsdlpN0U3JFV4vsiYLlBzoMAh1w2M6QhZsY7D3rzP459SxqHWsmOt8exlGX3VQQ769z/ME8whiKMsViRy7wv8nkEkEskXBFjSXrmSRL40E++FNyaYqu7abyJp1v1GZvgnvfH57EoaT/H+fbT3ecRA34caAMBj9ri44tjgWea/K/XooRnIhWgfX9DfyMKNJ2MmIiyo65AQGVtZUG/EOrekrqQ8jyyIoyM1kVIKjz+zVJb8avylBi2VZeodkIR1hntqSu6JRQZIvWqcYfcLgpgL3gYCP0e1kj3QDrRiA4wKm9sKO4ZhxxXijQOdlz3bks4hUdmVJT5JrqKI5o9I="
    on:
      repo: selamanse/alexa-skill-willis-sprechapparat
      tags: true
